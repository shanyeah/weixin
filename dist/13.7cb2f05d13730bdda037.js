webpackJsonp([13],{472:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=a(185),d=o(n),u=a(9),l=o(u),i=a(5),s=o(i),c=a(8),f=o(c),g=a(6),m=o(g),y=a(7),h=o(y);a(186);var v=a(0),b=o(v);a(553);var p=a(487),x=r(p),N=a(183),P=r(N),S=a(184),I=a(187),w=o(I),_=function(e){function t(e){(0,s.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,l.default)(t)).call(this,e));return a.state={nextPage:1,hasNextPage:!1,stgList:[],searchValue:"",back:0},a}return(0,h.default)(t,e),(0,f.default)(t,[{key:"componentDidMount",value:function(e){document.title="搜索",w.default.parse(this.props.location.search).back&&(this.state.back=1),this.loadData()}},{key:"loadData",value:function(){var e=this,t=this.state.nextPage,a=window.localStorage.getItem("latitude"),r=window.localStorage.getItem("longitude");x.queryNearbyNetbar({name:this.state.searchValue,pageNum:this.state.nextPage,latitude:a,longitude:r},{success:function(a){var r=a.data.list,o=[];o=t<=1?r:Array.prototype.concat.apply(e.state.stgList,r),t<=1&&0==o.length&&d.default.info("没有该门店信息"),e.setState({stgList:o,hasNextPage:a.data.hasNextPage,nextPage:a.data.nextPage})},error:function(e){d.default.fail(e)}})}},{key:"onSearchBarChange",value:function(e,t){this.state.searchValue=e}},{key:"onSubmit",value:function(){this.setState({stgList:[]}),this.loadData()}},{key:"onClear",value:function(){this.setState({stgList:[]}),this.state.searchValue="",this.loadData()}},{key:"render",value:function(){var e=this;return b.default.createElement("div",{className:"page",style:{overflow:"hidden"}},b.default.createElement(S.SearchBar,{onChange:this.onSearchBarChange.bind(this),onSubmit:this.onSubmit.bind(this),onClear:this.onClear.bind(this),defaultValue:this.state.searchValue,placeholder:"搜索门店",lang:{cancel:"取消"}}),this.state.stgList.map(function(t,a){return b.default.createElement("div",{key:a,"data-organid":t.organId,"data-organname":t.organName,onClick:function(t){var a=t.currentTarget.getAttribute("data-organid");if(1==e.state.back)P.setStgId(a),e.props.history.goBack();else{var r="/stg?organId="+a;e.props.history.push(r)}}},b.default.createElement("div",{className:"stg_cell"},b.default.createElement("img",{src:t.coverImg,className:"stg_image",mode:"aspectFill"}),b.default.createElement("div",{style:{width:"80%"}},b.default.createElement("div",{className:"stg_distance"},t.showDistance),b.default.createElement("div",{className:"stg_name"},t.organName),b.default.createElement("div",{className:"stg_score"},0==t.score?"暂无评分":"评分:"+t.score+"分 | "+t.reviewCount+"条"),b.default.createElement("div",{className:"stg_desc"},"消费(",t.netCostDesc,")"),b.default.createElement("div",{className:"stg_desc"},t.address))),b.default.createElement("div",{className:"stg_separator"}))}))}}]),t}(b.default.Component);t.default=_,e.exports=t.default},487:function(e,t,a){"use strict";function r(e,t){var a=e.type,r={type:a};return(0,N.default)("xcx/queryAppAdList.do",{method:"GET",body:r},t)}function o(e,t){var a=e.pageNum,r=e.name,o=e.latitude,n=e.longitude,d=e.serviceCode,u=e.orderBy,l={pageNum:a,latitude:o,longitude:n,orderBy:0};return r&&r.length>0&&(l.name=r),d&&d.length>0&&(l.serviceCode=d),u&&(l.orderBy=u),(0,N.default)("xcx/queryNearbyNetbar.do",{method:"POST",body:l},t)}function n(e,t){var a=e.organId,r=e.latitude,o=e.longitude,n={latitude:r,longitude:o};return a>0&&(n.organId=a),(0,N.default)("xcx/netbarDetail.do",{method:"POST",body:n},t)}function d(e,t){var a=e.organId,r=e.pageNum,o={organId:a,pageNum:r};return(0,N.default)("xcx/queryNetbarReviewList.do",{method:"POST",body:o},t)}function u(e,t){var a=e.organId,r={organId:a,type:0};return(0,N.default)("xcx/followNetbar.do",{method:"POST",body:r},t)}function l(e,t){var a=e.organId,r={organId:a,type:1};return(0,N.default)("xcx/followNetbar.do",{method:"POST",body:r},t)}function i(e,t){var a=e;return(0,N.default)("xcx/saveNetbarReview.do",{method:"POST",body:a},t)}function s(e,t){var a=e.organId,r={organId:a};return(0,N.default)("xcx/queryChargePresentList.do",{method:"GET",body:r},t)}function c(e,t){var a=e;return(0,N.default)("xcx/userSelfRechange.do",{method:"POST",body:a},t)}function f(e,t){var a=e.serviceCode,r=e.pageNum,o=e.latitude,n=e.longitude,d={serviceCode:a,pageNum:r,latitude:o,longitude:n};return(0,N.default)("xcx/queryFollowNetbarList.do",{method:"POST",body:d},t)}function g(e){var t={};return(0,N.default)("xcx/myCenter.do",{method:"POST",body:t},e)}function m(e,t){var a=e;return(0,N.default)("xcx/queryMyWallet.do",{method:"GET",body:a},t)}function y(e,t){var a=e.walletId,r=e.pageNum,o={walletId:a,pageNum:r};return(0,N.default)("xcx/queryMyWalletLog.do",{method:"POST",body:o},t)}function h(e,t){var a=e.pageNum,r={pageNum:a};return(0,N.default)("xcx/queryMyGoodsBill.do",{method:"POST",body:r},t)}function v(e,t){var a=e.nickName,r={nickName:a};return(0,N.default)("xcx/editUserInfo.do",{method:"POST",body:r},t)}function b(e,t){var a=e.saleBillId,r={saleBillId:a};return(0,N.default)("xcx/queryGoodsBillDetail.do",{method:"GET",body:r},t)}function p(e,t){var a=e.fileBase64,r=e.objectType,o={fileBase64:a,objectType:r};return(0,N.default)("xcx/uploadImage.do",{method:"POST",body:o},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadAd=r,t.queryNearbyNetbar=o,t.queryNetbarDetail=n,t.queryNetbarReviewList=d,t.followNetbar=u,t.unfollowNetbar=l,t.addReview=i,t.queryChargePresentList=s,t.charge=c,t.queryFollowNetbarList=f,t.queryMyInfo=g,t.queryMyWallet=m,t.queryWalletLog=y,t.queryMyOrderList=h,t.editUserInfo=v,t.queryGoodsBillDetail=b,t.uploadImage=p;var x=a(188),N=function(e){return e&&e.__esModule?e:{default:e}}(x)},553:function(e,t){}});