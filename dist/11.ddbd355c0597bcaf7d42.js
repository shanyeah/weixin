webpackJsonp([11],{475:function(e,t,a){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var d=a(185),n=o(d),l=a(9),i=o(l),u=a(5),s=o(u),c=a(8),g=o(c),f=a(6),m=o(f),y=a(7),h=o(y);a(186);var v=a(0),p=o(v);a(558);var b=a(487),x=r(b),N=a(183),A=r(N),E=a(187),I=o(E),w=a(184),S=a(559),C=o(S),T=function(e){function t(e){(0,s.default)(this,t);var a=(0,m.default)(this,(t.__proto__||(0,i.default)(t)).call(this,e));return a.state={serviceCode:"",serviceName:"",nextPage:1,hasNextPage:!1,showFollowButton:!1,back:0,stgList:[],searchValue:"",showEmptyPage:!1},a}return(0,h.default)(t,e),(0,g.default)(t,[{key:"componentDidMount",value:function(e){var t=I.default.parse(this.props.location.search);this.state.serviceCode=t.serviceCode;var a="关注";t.serviceName&&(a=t.serviceName);var r="选择"+a+"门店";document.title=r,t.back&&(this.state.back=1),this.loadData()}},{key:"onSearchBarChange",value:function(e,t){this.state.searchValue=e}},{key:"onSubmit",value:function(){this.setState({stgList:[]}),this.loadData()}},{key:"onClear",value:function(){this.setState({stgList:[]}),this.state.searchValue="",this.loadData()}},{key:"loadData",value:function(){var e=this,t=this.state.nextPage,a=window.localStorage.getItem("latitude"),r=window.localStorage.getItem("longitude"),o={name:this.state.searchValue,serviceCode:this.state.serviceCode,pageNum:this.state.nextPage,latitude:a,longitude:r,orderBy:1};x.queryNearbyNetbar(o,{success:function(a){var r=a.data.list,o=[];o=1==t?r:Array.prototype.concat.apply(e.state.stgList,r),e.setState({stgList:o,hasNextPage:a.data.hasNextPage,nextPage:a.data.nextPage,showFollowButton:0==o.length,showEmptyPage:0==o.length})},error:function(e){n.default.fail(e)}})}},{key:"render",value:function(){var e=this,t=this;return p.default.createElement("div",{className:"page"},p.default.createElement(w.SearchBar,{onChange:this.onSearchBarChange.bind(this),onSubmit:this.onSubmit.bind(this),onClear:this.onClear.bind(this),defaultValue:this.state.searchValue,placeholder:"搜索门店",lang:{cancel:"取消"}}),this.state.showEmptyPage?p.default.createElement("div",{style:{marginTop:"100px",textAlign:"center"}},p.default.createElement("img",{src:C.default}),p.default.createElement("div",{style:{marginTop:"20px",color:"grey"}},"暂无门店")):null,p.default.createElement("div",{style:{overflow:"hidden"}},this.state.stgList.map(function(a,r){return p.default.createElement("div",{key:r,"data-organid":a.organId,"data-stgid":a.stgId,"data-organname":a.organName,onClick:function(a){var r=a.currentTarget.getAttribute("data-organid"),o=a.currentTarget.getAttribute("data-stgid"),d=a.currentTarget.getAttribute("data-organname");if(1==e.state.back)A.setStgId(r),t.props.history.goBack();else switch(e.state.serviceCode){case"GOODS":var n=A.getGoodsOrderUrl(r,d);window.location.href=n;break;case"RECHARGE":var n=A.getChargeWexinCode(r,d);window.location.href=n;break;case"WALLET":var n="/mywallet";e.props.history.push(n);break;case"CINEMA":var n=A.getCinemaUrl(r,d);window.location.href=n;break;case"IMOVIE":var n="/movieList?organId="+r+"&stgId="+o+"&organName="+d;e.props.history.push(n)}}},p.default.createElement("div",{className:"stg_cell"},p.default.createElement("img",{src:a.coverImg,className:"stg_image",mode:"aspectFill"}),p.default.createElement("div",{style:{width:"80%"}},p.default.createElement("div",{className:"stg_distance"},a.showDistance),p.default.createElement("div",{className:"stg_name"},a.organName),p.default.createElement("div",{className:"stg_score"},0==a.score?"暂无评分":"评分:"+a.score+"分 | "+a.reviewCount+"条"),p.default.createElement("div",{className:"stg_desc"},"消费(",a.netCostDesc,")"),p.default.createElement("div",{className:"stg_desc"},a.address))),p.default.createElement("div",{className:"stg_separator"}))})))}}]),t}(p.default.Component);t.default=T,e.exports=t.default},487:function(e,t,a){"use strict";function r(e,t){var a=e.type,r={type:a};return(0,N.default)("xcx/queryAppAdList.do",{method:"GET",body:r},t)}function o(e,t){var a=e.pageNum,r=e.name,o=e.latitude,d=e.longitude,n=e.serviceCode,l=e.orderBy,i={pageNum:a,latitude:o,longitude:d,orderBy:0};return r&&r.length>0&&(i.name=r),n&&n.length>0&&(i.serviceCode=n),l&&(i.orderBy=l),(0,N.default)("xcx/queryNearbyNetbar.do",{method:"POST",body:i},t)}function d(e,t){var a=e.organId,r=e.latitude,o=e.longitude,d={latitude:r,longitude:o};return a>0&&(d.organId=a),(0,N.default)("xcx/netbarDetail.do",{method:"POST",body:d},t)}function n(e,t){var a=e.organId,r=e.pageNum,o={organId:a,pageNum:r};return(0,N.default)("xcx/queryNetbarReviewList.do",{method:"POST",body:o},t)}function l(e,t){var a=e.organId,r={organId:a,type:0};return(0,N.default)("xcx/followNetbar.do",{method:"POST",body:r},t)}function i(e,t){var a=e.organId,r={organId:a,type:1};return(0,N.default)("xcx/followNetbar.do",{method:"POST",body:r},t)}function u(e,t){var a=e;return(0,N.default)("xcx/saveNetbarReview.do",{method:"POST",body:a},t)}function s(e,t){var a=e.organId,r={organId:a};return(0,N.default)("xcx/queryChargePresentList.do",{method:"GET",body:r},t)}function c(e,t){var a=e;return(0,N.default)("xcx/userSelfRechange.do",{method:"POST",body:a},t)}function g(e,t){var a=e.serviceCode,r=e.pageNum,o=e.latitude,d=e.longitude,n={serviceCode:a,pageNum:r,latitude:o,longitude:d};return(0,N.default)("xcx/queryFollowNetbarList.do",{method:"POST",body:n},t)}function f(e){var t={};return(0,N.default)("xcx/myCenter.do",{method:"POST",body:t},e)}function m(e,t){var a=e;return(0,N.default)("xcx/queryMyWallet.do",{method:"GET",body:a},t)}function y(e,t){var a=e.walletId,r=e.pageNum,o={walletId:a,pageNum:r};return(0,N.default)("xcx/queryMyWalletLog.do",{method:"POST",body:o},t)}function h(e,t){var a=e.pageNum,r={pageNum:a};return(0,N.default)("xcx/queryMyGoodsBill.do",{method:"POST",body:r},t)}function v(e,t){var a=e.nickName,r={nickName:a};return(0,N.default)("xcx/editUserInfo.do",{method:"POST",body:r},t)}function p(e,t){var a=e.saleBillId,r={saleBillId:a};return(0,N.default)("xcx/queryGoodsBillDetail.do",{method:"GET",body:r},t)}function b(e,t){var a=e.fileBase64,r=e.objectType,o={fileBase64:a,objectType:r};return(0,N.default)("xcx/uploadImage.do",{method:"POST",body:o},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadAd=r,t.queryNearbyNetbar=o,t.queryNetbarDetail=d,t.queryNetbarReviewList=n,t.followNetbar=l,t.unfollowNetbar=i,t.addReview=u,t.queryChargePresentList=s,t.charge=c,t.queryFollowNetbarList=g,t.queryMyInfo=f,t.queryMyWallet=m,t.queryWalletLog=y,t.queryMyOrderList=h,t.editUserInfo=v,t.queryGoodsBillDetail=p,t.uploadImage=b;var x=a(188),N=function(e){return e&&e.__esModule?e:{default:e}}(x)},558:function(e,t){},559:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAC0klEQVRoQ+2aTWsTURSG3zdxutFFtQtXbkRxJVjQTREVf4HgQhH8QEE0EO9dVGxR2vGzthRyL5UWlxUXSvEn6EpciFDEjR8giAQsCHbjxpgcmXJTYpIJmUnSiNxZBXLOmfPc8547wz1DtLjy+fxwJpMZJ3kcQKaVbcr/iiQPFQqFzyn9wThHrXUIYDJt4Hb9RGQlk8mMpIVoCqCUOkNysd0kOrXrBKIBIJfLbRkYGPgCYJtL7F25XL44NDT0JgzD350mq7W+B2A8iiMij0mOANiZFqIBQGt9GsAjd4P3QRDsn52d/dlp4lV/pdQUyTEXfxpAgeSrtBANAEqp+ySvuRveNsZMdCv5KE5dBaattWNKqe1pIZoBLJC85FYob6190GWAOwCuVysQAUS/00L0A2B9dxORtQrUyCtxJfoBEK1+VIWoif8CaFYJAIettR/iVLDhAEqpKyStS2jRGHOuPrlaOQH4LiIH4yA2HEBrfRTAc1eBlVKptG9+fv5bWogNBwBArfVHALtc0tEz5/zg4ODLMAx/1YK0U4l+AERb6REReUEy9lUmRvMLxphc7X99AXDNegHAQ5LZBNv0vwPgIPaQHBeRUySDNkD+LYA2Eo4ecLW7lgdoZ9G6auMr0O2XuaTl8RXwFUiqmTp7LyEvIS8h/yrR3VOJpIryu5DfhZJqxj/IlOrp0WLSgvgm9k2cVDO+iX0Td6gZL6H/QEIzJK+6St41xtzoriiSRasdCgKYMcZUB5BrgZqdTq8PuUXkUxAEw90csyZJf3R0dHOpVFomudsNRM5aa9dGwNWrAcA5fSW51Rm9BXC5WCy+XlpaKidJIK1tGIabVldXD0TH7wD2uuR/BEGwo34x4z41OEHySdoEeuEnIiettU/rY8dOSJRSEyRv9iKZpDFFZNJae6uZX8sRT/S5TTabjZr4WI8+t2nFUhGRZ5VKZWpubm45zvAP8m3STz21AFEAAAAASUVORK5CYII="}});